<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MoonLight - Project Selection</title>
    <link rel="stylesheet" href="<%= urlFor('assets/css/startpage.css') %>">
    <link rel="stylesheet" href="<%= urlFor('assets/css/topbar.css') %>">
    <link rel="stylesheet" href="<%= urlFor('assets/css/login.css') %>">
    <link rel="stylesheet" href="<%= urlFor('assets/css/loadingspinner.css') %>">
    <link rel="stylesheet" href="<%= urlFor('assets/css/ProjectSelection.css') %>">
</head>
<body>

<!-- Intro Screen -->
<div id="intro-screen">
    <div id="starfield"></div>
    <img id="intro-logo" src="<%= urlFor('assets/transparent.png') %>" alt="MoonLight Logo">
    <div id="intro-sub">Loading Projects...</div>
</div>

<!-- Topbar -->
<nav class="topnav">
    <div class="topbar">
        <img src="app://assets/iconcircle2.png" class="icon" alt="App Icon">
        <p>Project Selection</p>
    </div>
    <div class="window-controls">
        <button id="min-btn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor" width="20" height="20">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14"/>
            </svg>
        </button>
        <button id="max-btn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">
                <path d="M4 4h16v16H4z" fill="none" stroke="currentColor" stroke-width="2"/>
            </svg>
        </button>
        <button id="close-btn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                 stroke="currentColor" width="22" height="22">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/>
            </svg>
        </button>
    </div>
</nav>

<!--<nav class="topnav">-->
<!--    <div class="topbar">-->
<!--        <img src="app://assets/iconcircle2.png" class="icon" alt="App Icon">-->
<!--        <p><u>F</u>ile</p>-->
<!--        <p><u>E</u>dit</p>-->
<!--        <p><u>V</u>iew</p>-->
<!--        <p><u>T</u>ools</p>-->
<!--        <p><u>G</u>it</p>-->
<!--        <p><u>W</u>indow</p>-->
<!--        <p><u>H</u>elp</p>-->
<!--        <p> | </p>-->

<!--        &lt;!&ndash;Project Name&ndash;&gt;-->
<!--        <div class="topbar">-->
<!--            <img src="app://assets/iconwin.png" class="icon" alt="App Icon">-->
<!--            <p>ProjectName</p>-->
<!--            <p>></p>-->
<!--        </div>-->
<!--    </div>-->

<!--    <div class="window-controls">-->
<!--        <button id="min-btn">-->
<!--            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"-->
<!--                 stroke="currentColor" width="20" height="20">-->
<!--                <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14"/>-->
<!--            </svg>-->
<!--        </button>-->
<!--        <button id="max-btn">-->
<!--            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20">-->
<!--                <path d="M4 4h16v16H4z" fill="none" stroke="currentColor" stroke-width="2"/>-->
<!--            </svg>-->
<!--        </button>-->
<!--        <button id="close-btn">-->
<!--            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"-->
<!--                 stroke="currentColor" width="22" height="22">-->
<!--                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"/>-->
<!--            </svg>-->
<!--        </button>-->
<!--    </div>-->
<!--</nav>-->


<!-- Page Header -->
<header>
    <h1>MoonLight</h1>
    <h2>Project Selection</h2>
</header>

<!-- View As Selector -->
<div class="view-as">
    <p>View as:</p>
    <div class="selector">
        <img src="<%= urlFor('assets/iconcircle2.png') %>" alt="Group Icon" style="width: 24px; height: 24px;">
        <span>??? ></span>
    </div>
</div>


<!-- Main Content -->
<div class="content">

    <!-- Second Div (new content panel) -->
    <div class="sidebar">
        <!-- You can put anything here -->
        <p>???</p>
        <p>???</p>
        <p>???</p>
        <p>???</p>
    </div>

    <!-- First Div (your placeholder) -->
    <div class="placeholder">
        ¯\_(ツ)_/¯
    </div>

</div>


<!-- Footer -->
<footer>
    <div class="account">
        <img src="<%= urlFor('assets/user.svg') %>" alt="User Icon" style="width: 28px; height: 28px;">
        <span>@username &nbsp; | &nbsp; Account: ???</span>
    </div>
    <div class="build-info">
        2025.0.0.0a – Experimental Alpha Build
    </div>
</footer>

<script>
    window.addEventListener("load", () => {
        const intro = document.getElementById("intro-screen");
        const starfield = document.getElementById("starfield");

        // --- Create dynamic stars ---
        for (let i = 0; i < 150; i++) {
            const star = document.createElement("div");
            star.classList.add("star");
            const size = Math.random() * 2 + 1;
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            star.style.top = `${Math.random() * 100}%`;
            star.style.left = `${Math.random() * 100}%`;
            star.style.opacity = Math.random() * 0.8 + 0.2;
            starfield.appendChild(star);
        }

        // --- Spawn shooting stars ---
        function spawnShootingStar() {
            const shootingStar = document.createElement("div");
            shootingStar.classList.add("shooting-star");
            shootingStar.style.top = `${Math.random() * 40 + 10}%`;
            shootingStar.style.left = `-${Math.random() * 200}px`;
            shootingStar.style.animation = `shooting ${1 + Math.random() * 1.5}s linear`;
            intro.appendChild(shootingStar);
            shootingStar.addEventListener('animationend', () => shootingStar.remove());
        }

        const shootingInterval = setInterval(spawnShootingStar, 400);

        // --- Spawn particles ---
        function spawnParticle() {
            const particle = document.createElement("div");
            particle.classList.add("particle");
            particle.style.width = particle.style.height = `${Math.random() * 4 + 2}px`;
            particle.style.background = `hsl(${Math.random() * 360}, 80%, 70%)`;
            particle.style.top = `${Math.random() * 100}%`;
            particle.style.left = `${Math.random() * 100}%`;
            particle.style.setProperty('--dx', `${(Math.random() - 0.5) * 200}px`);
            particle.style.setProperty('--dy', `${(Math.random() - 0.5) * 200}px`);
            intro.appendChild(particle);
            particle.addEventListener('animationend', () => particle.remove());
        }

        const particleInterval = setInterval(spawnParticle, 200);

        // --- Fade out intro after 3 seconds ---
        setTimeout(() => {
            intro.classList.add("fade-out");
            clearInterval(shootingInterval);
            clearInterval(particleInterval);
        }, 3000);
    });

    document.getElementById('min-btn').addEventListener('click', () => window.moonlight.minimize());
    document.getElementById('max-btn').addEventListener('click', () => window.moonlight.maximize());
    document.getElementById('close-btn').addEventListener('click', () => window.moonlight.close());
</script>
</body>
</html>
